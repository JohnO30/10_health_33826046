<!-- Page heading for new user registration -->
<h2>New User Registration</h2>

<!-- Validation error display section - shown if form submission has errors -->
<% if (errors && errors.length > 0) { %>
    <div class="error">
        <p>Please fix the following issues:</p>
        <!-- Loop through and display each validation error message -->
        <ul>
            <% errors.forEach(error => { %>
                <li><%= error.msg %></li>
            <% }) %>
        </ul>
    </div>
<% } %>

<!-- Registration form - POST request to /users/registered route -->
<form action="/users/registered" method="POST">
    <!-- Username input - must be between 2-20 characters -->
    <label for="username">Username (2-20 chars):</label>
    <input type="text" id="username" name="username" required>
    
    <!-- First name input field - required -->
    <label for="first_name">First Name:</label>
    <input type="text" id="first_name" name="first_name" required>
    
    <!-- Last name input field - required -->
    <label for="last_name">Last Name:</label>
    <input type="text" id="last_name" name="last_name" required>
    
    <!-- Email input - HTML5 email validation applied -->
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>

    <!-- Password input - must meet complexity requirements for security -->
    <label for="password">Password (Min 8 chars, 1 Uppercase, 1 Lowercase, 1 Number, 1 Symbol):</label>
    <input type="password" id="password" name="password" required>

    <!-- Submit button to process registration -->
    <input type="submit" value="Register">
</form>